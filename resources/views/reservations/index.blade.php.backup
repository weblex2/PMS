@extends('layouts.pms')
@section('content')
@include('components.sidebar')
<main>
<h1>Reservierungen <a href="/reservations/create" class="btn"><i class="fa fa-plus"></i> Neue Reservierung</a></h1>
<div class="card">
<table>
<thead>
<tr><th>Nr.</th><th>Gast</th><th>Zimmer</th><th>Check-in</th><th>Check-out</th><th>Preis</th><th>Status</th><th>Aktionen</th></tr>
</thead>
<tbody>
@forelse($reservations as $res)
<tr>
<td>{{ $res->reservation_number }}</td>
<td>{{ $res->guest->name }}</td>
<td>
@forelse($res->paths->flatMap->rooms as $room)
<span class="badge">{{ $room->room_number }}</span>
@empty
-
@endforelse
</td>
<td>{{ $res->check_in->format('d.m.Y') }}</td>
<td>{{ $res->check_out->format('d.m.Y') }}</td>
<td>{{ number_format($res->total_price,2,',','.') }} EUR</td>
<td><span class="badge badge-{{ $res->status }}">{{ $res->status }}</span></td>
<td><a href="/reservations/{{ $res->id }}/edit" class="btn btn-small"><i class="fa fa-edit"></i></a></td>
</tr>
@empty
<tr><td colspan="8" style="text-align:center">Keine Reservierungen gefunden</td></tr>
@endforelse
</tbody>
</table>
</div>
@endsection
